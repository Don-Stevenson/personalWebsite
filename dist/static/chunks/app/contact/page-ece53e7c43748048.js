(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{631:e=>{e.exports={container:"Hero_container__KML1d",title:"Hero_title__bGj6o",subtitle1:"Hero_subtitle1__bMi4f",subtitle2:"Hero_subtitle2__7IBh7"}},2910:(e,a,s)=>{"use strict";s.d(a,{default:()=>g});var t=s(5155),r=s(2115),l=s(631),i=s.n(l);function n(e){let{title:a,subTitle:s,text:r}=e;return(0,t.jsxs)("div",{className:i().container,children:[(0,t.jsx)("div",{className:i().title,children:a}),(0,t.jsx)("div",{className:i().subtitle1,children:s}),(0,t.jsx)("div",{className:i().subtitle2,children:r})]})}var m=s(3464),o=s(6927),c=s(8659),d=s.n(c),u=s(9083),_=s.n(u);function p(e){let{errorMsg:a}=e;return(0,t.jsx)("div",{className:_().errorContainer,children:a&&(0,t.jsx)("p",{className:_().errorText,children:a||""})})}let g=e=>{let{title:a}=e,{handleInputChange:s,handleFormSubmit:l,formState:i,validationErrors:c,isSending:u}=(()=>{let[e,a]=(0,r.useState)({name:"",email:"",message:"",isDisabled:!1,emailSent:null}),[s,t]=(0,r.useState)({name:"",email:"",message:""}),[l,i]=(0,r.useState)(!1);return{handleInputChange:e=>{let{name:r,value:l}=e.target;a(e=>({...e,[r]:l})),s[r]&&t(e=>({...e,[r]:""}))},handleFormSubmit:async s=>{s.preventDefault(),i(!0);let r=Date.now();if(!(()=>{let s={name:e.name.trim()?"":"Name is required",message:e.message.trim()?"":"Message is required",email:""};if(e.email.trim()){var r;r=e.email,/^[a-zA-Z0-9._%+-]{2,}@[a-zA-Z0-9.-]{2,}\.[a-zA-Z]{2,}$/.test(r)||(s.email="Please enter a valid email address",a(e=>({...e,isDisabled:!1,emailSent:!1})),i(!1))}else s.email="Email is required",a(e=>({...e,isDisabled:!1,emailSent:!1})),i(!1);return t(s),!Object.values(s).some(e=>""!==e)})())return void i(!1);a(e=>({...e,isDisabled:!0}));try{let s=await m.A.post("/api/email",e),t=Date.now()-r;t<3e3&&await new Promise(e=>setTimeout(e,3e3-t)),s.data.success?(a({name:"",email:"",message:"",isDisabled:!1,emailSent:!0}),i(!1),setTimeout(()=>{a(e=>({...e,emailSent:null}))},5e3)):(a(e=>({...e,isDisabled:!1,emailSent:!1})),i(!1))}catch(s){let e=Date.now()-r;e<3e3&&await new Promise(a=>setTimeout(a,3e3-e)),console.error("\uD83D\uDE25 Oops! Failed to send message:",s),t(e=>({...e,message:"\uD83D\uDE25 Oops! Failed to send the message"})),a(e=>({...e,isDisabled:!1,emailSent:!1})),i(!1)}},formState:e,validationErrors:s,isSending:l}})(),[_,g]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e;return!0===i.emailSent?(g(!0),e=setTimeout(()=>{g(!1)},5e3)):(!1===i.emailSent||null===i.emailSent)&&g(!1),()=>{e&&clearTimeout(e)}},[i.emailSent]),(0,t.jsxs)("div",{className:d().pageContainer,children:[(0,t.jsx)(n,{title:a}),(0,t.jsx)("div",{className:d().contentWrapper,children:(0,t.jsxs)("form",{onSubmit:l,children:[(0,t.jsxs)("div",{className:d().formWrapper,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"full-name",children:"Name"}),(0,t.jsx)("input",{className:d().formInput,id:"full-name",name:"name",type:"text",value:i.name,onChange:s,required:!0})]}),(0,t.jsxs)("div",{className:d().formWrapper,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"email",children:"Email"}),(0,t.jsx)("input",{className:d().formInput,id:"email",name:"email",type:"email",value:i.email,onChange:s,required:!0})]}),(0,t.jsxs)("div",{className:d().formWrapper,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"message",children:"Message"}),(0,t.jsx)("input",{className:d().formInput,id:"message",name:"message",rows:"3",value:i.message,onChange:s,required:!0}),c.message&&(0,t.jsx)("p",{className:d().errorText,children:c.message||""})]}),(0,t.jsx)(p,{errorMsg:c.message||""}),(0,t.jsxs)("div",{className:d().submittingWrapper,children:[(0,t.jsx)("button",{className:d().submitButton,type:"submit",disabled:i.isDisabled,children:"Send"}),c.name&&(0,t.jsx)("p",{className:d().errorText,children:c.name||""}),c.email&&(0,t.jsx)("p",{className:d().errorText,children:c.email||""}),c.message&&(0,t.jsx)("p",{className:d().errorText,children:c.message||""}),u&&(0,t.jsxs)("div",{className:d().loadingContainer,children:[(0,t.jsx)(o.rK,{height:"35",width:"35",color:"#007bff",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",visible:!0}),(0,t.jsx)("p",{className:d().textLightGrey,children:"Please allow up to 30 seconds for the message to send"})]}),_&&(0,t.jsx)("div",{className:d().successMessageContainer,children:(0,t.jsx)("p",{className:d().successMessage,children:"Message Sent!"})})]})]})})]})}},8596:(e,a,s)=>{Promise.resolve().then(s.bind(s,2910))},8659:e=>{e.exports={pageContainer:"ContactPage_pageContainer__2lDcM",contentWrapper:"ContactPage_contentWrapper__5b_yP",formInput:"ContactPage_formInput__viEMV",text:"ContactPage_text__zZHlK",textLightGrey:"ContactPage_textLightGrey__s2CNW",label:"ContactPage_label__5Wk2x",successMessageContainer:"ContactPage_successMessageContainer__417mA",successMessage:"ContactPage_successMessage__Qgky_",placeholderText:"ContactPage_placeholderText__wDTie",formWrapper:"ContactPage_formWrapper__RHiy8",submitButton:"ContactPage_submitButton__C8n4h",submittingWrapper:"ContactPage_submittingWrapper__GGTNh",loadingContainer:"ContactPage_loadingContainer__J0kK4",errorText:"ContactPage_errorText__AY0YE",fadeInOut:"ContactPage_fadeInOut__qeXGQ"}},9083:e=>{e.exports={errorText:"EmailError_errorText__wOxuO",errorContainer:"EmailError_errorContainer__UaU3I"}}},e=>{e.O(0,[205,134,16,441,964,358],()=>e(e.s=8596)),_N_E=e.O()}]);